{% extends "layout.html" %}
{% block title %}Filter{% endblock %}

{% block content %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Filter page</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/album/">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
          crossorigin="anonymous">

    <!-- Bootstrap core CSS -->
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }


        ul.ks-cboxtags {
            list-style: none;
            padding: 20px;
        }

            ul.ks-cboxtags li {
                display: inline;
            }

                ul.ks-cboxtags li label {
                    display: inline-block;
                    background-color: rgba(255, 255, 255, .9);
                    border: 2px solid rgba(139, 139, 139, .3);
                    color: #adadad;
                    border-radius: 25px;
                    white-space: nowrap;
                    margin: 3px 0px;
                    -webkit-touch-callout: none;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                    -webkit-tap-highlight-color: transparent;
                    transition: all .2s;
                }

                ul.ks-cboxtags li label {
                    padding: 8px 12px;
                    cursor: pointer;
                }

                    ul.ks-cboxtags li label::before {
                        display: inline-block;
                        font-style: normal;
                        font-variant: normal;
                        text-rendering: auto;
                        -webkit-font-smoothing: antialiased;
                        font-family: "Font Awesome 5 Free";
                        font-weight: 900;
                        font-size: 12px;
                        padding: 2px 6px 2px 2px;
                        content: "\f067";
                        transition: transform .3s ease-in-out;
                    }

                ul.ks-cboxtags li input[type="checkbox"]:checked + label::before {
                    content: "\f00c";
                    transform: rotate(-360deg);
                    transition: transform .3s ease-in-out;
                }

                ul.ks-cboxtags li input[type="checkbox"]:checked + label {
                    border: 2px solid #1bdbf8;
                    background-color: #12bbd4;
                    color: #fff;
                    transition: all .2s;
                }

                ul.ks-cboxtags li input[type="checkbox"] {
                    display: absolute;
                }

                ul.ks-cboxtags li input[type="checkbox"] {
                    position: absolute;
                    opacity: 0;
                }

                    ul.ks-cboxtags li input[type="checkbox"]:focus + label {
                        border: 2px solid #e9a1ff;
                    }
    </style>


</head>
<body>

    <main>

        <section class="py-5 container">

            <form action="/filter" method="GET">
                <div class="row py-lg-5">

                    <!-- Primary note filter column part 1-->
                    <div class="col-lg-2 col-md-2 mx-auto" style="color:#6200EE">
                        <p style="text-align:center">Primary Flavor</p>
                        <ul class="ks-cboxtags">
                            {% for i in list_of_primaries[0:6] %}

                            {% if i in primary_filter %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="primary" value="{{i}}" checked />
                                <label style="color:#6200EE" for="{{i}}">{{i}}</label>
                            </li>
                            <br />

                            {% else %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="primary" value="{{i}}" />
                                <label style="color:#6200EE" for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% endif %}
                            {%endfor%}
                        </ul>
                    </div>

                    <!-- Primary note filter column part 2-->
                    <div class="col-lg-2 col-md-2 mx-auto" style="color:#6200EE">
                        <p style="text-align:center">Primary Flavor</p>
                        <ul class="ks-cboxtags">
                            {% for i in list_of_primaries[6:] %}
                            {% if i in primary_filter %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="primary" value="{{i}}" checked />
                                <label style="color:#6200EE" for="{{i}}">{{i}}</label>
                            </li>
                            <br />

                            {% else %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="primary" value="{{i}}" />
                                <label style="color:#6200EE" for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% endif %}
                            {%endfor%}
                        </ul>
                    </div>

                    <!-- Secondary note filter column -->
                    <div class="col-lg-2 col-md-2 mx-auto">
                        <div style="color: #230760">
                            <p style="text-align:center">Secondary Flavor</p>
                            <ul class="ks-cboxtags">
                                {% for i in list_of_secondaries %}

                                {% if i in secondary_filter %}
                                <li>
                                    <input type="checkbox" id="{{i}}" name="secondary" value="{{i}}" checked />
                                    <label style="color:#230760" for="{{i}}">{{i}}</label>
                                </li>
                                <br />
                                {% else %}
                                <li>
                                    <input type="checkbox" id="{{i}}" name="secondary" value="{{i}}" />
                                    <label style="color: #230760" for="{{i}}">{{i}}</label>
                                </li>
                                <br />
                                {% endif %}
                                {%endfor%}
                            </ul>
                        </div>

                        <div style="color:#9441fb">
                            <p style="text-align:center">Tertiary Flavor</p>
                            <ul class="ks-cboxtags">
                                {% for i in list_of_tertiaries %}
                                {% if i in tertiary_filter %}
                                <li>
                                    <input type="checkbox" id="{{i}}" name="tertiary" value="{{i}}" checked />
                                    <label style="color: #9441fb" for="{{i}}">{{i}}</label>
                                </li>
                                <br />
                                {% else %}
                                <li>
                                    <input type="checkbox" id="{{i}}" name="tertiary" value="{{i}}" />
                                    <label style="color: #9441fb" for="{{i}}">{{i}}</label>
                                </li>
                                <br />
                                {% endif %}
                                {%endfor%}
                            </ul>
                        </div>
                    </div>

                    <!-- Country filter column -->
                    <div class="col-lg-2 col-md-2 mx-auto" style="color:darkblue">
                        <p style="text-align:center">Country</p>
                        <ul class="ks-cboxtags">
                            {% for i in list_of_countries %}
                            {% if i in country_filter %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="country" value="{{i}}" checked />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% else %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="country" value="{{i}}" />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% endif %}
                            {% endfor %}
                        </ul>

                    </div>

                    <!-- Variety filter column 1-->
                    <div class="col-lg-2 col-md-2 mx-auto">
                        <p style="text-align:center">Variety</p>
                        <ul class="ks-cboxtags">
                            {% for i in list_of_varieties[0:7] %}
                            {% if i in variety_filter %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="variety" value="{{i}}" checked />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% else %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="variety" value="{{i}}" />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% endif %}
                            {%endfor%}
                        </ul>
                    </div>

                    <!-- Variety filter column 2-->
                    <div class="col-lg-2 col-md-2 mx-auto">
                        <p style="text-align:center">Variety</p>
                        <ul class="ks-cboxtags">
                            {% for i in list_of_varieties[7:] %}
                            {% if i in variety_filter %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="variety" value="{{i}}" checked />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% else %}
                            <li>
                                <input type="checkbox" id="{{i}}" name="variety" value="{{i}}" />
                                <label for="{{i}}">{{i}}</label>
                            </li>
                            <br />
                            {% endif %}
                            {%endfor%}
                        </ul>
                    </div>
                </div>
                <input type="submit" value="Search" class="btn btn-primary my-2"></input>
                <a href="{{url_for('filter_page')}}" class="btn btn-secondary my-2">See all wines</a>
            </form>
        </section>

        <div class="album py-5 bg-light">
            <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                    {% for wine in pagination.items %}
                    <div class="col">
                        <div class="card shadow-sm">

                            {% if wine.id < 16666 %}
                            <div class="bd-placeholder-img card-img-top" style="text-align:center" width="100%" height="225">
                                <img src="{{url_for('static', filename='red_wine_240height.png')}}" alt="Sample picture">
                            </div>
                            {% elif (wine.id > 16666 and wine.id < 33333) %}
                            <div class="bd-placeholder-img card-img-top" style="text-align:center" width="100%" height="225">
                                <img src="{{url_for('static', filename='white_wine_240height.png')}}" alt="Sample picture">
                            </div>
                            {% else %}
                            <div class="bd-placeholder-img card-img-top" style="text-align:center" width="100%" height="225">
                                <img src="{{url_for('static', filename='bubbly_wine_240height.png')}}" alt="Sample picture">
                            </div>
                            {% endif %}

                            <div class="card-body">
                                <p class="card-text">{{wine.title}}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <a href="/wine/{{wine.id}}"><button type="button" class="btn btn-sm btn-outline-secondary">View</button></a>
                                    </div>

                                    <span class="badge rounded-pill" style="background-color:#6200EE">{{wine.primary_flavor}}</span>
                                    {% if wine.secondary_flavor %}
                                    <span class="badge rounded-pill" style="background-color:#230760">{{wine.secondary_flavor}}</span>
                                    {% endif %}
                                    {% if wine.tertiary_flavor %}
                                    <span class="badge rounded-pill" style="background-color:#9441fb">{{wine.tertiary_flavor}}</span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <section class="py-5 text-center container">
            <div class="container">
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                        {% for page_num in pagination.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
                        {% if page_num %}
                        {% if pagination.page == page_num %}
                        <li class="page-item"><a class="page-link" href="{{ url_for('filter_page', page=page_num) }}&{{request.query_string.decode()}}">{{ page_num }}</a></li>
                        {% else %}
                        <li class="page-item"><a class="page-link" href="{{ url_for('filter_page', page=page_num) }}&{{request.query_string.decode()}}">{{ page_num }}</a></li>
                        {% endif %}
                        {% else %}
                        ...
                        {% endif %}
                        {% endfor %}
                    </ul>
                </nav>
            </div>
        </section>


    </main>


    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>

{% endblock %}